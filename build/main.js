!function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],f=0,p=[];f<c.length;f++)i=c[f],o[i]&&p.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(l&&l(e);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=o[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=o[t]=[e,r]});e.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(t){return i.p+""+({}[t]||t)+".js"}(t),a=function(e){c.onerror=c.onload=null,clearTimeout(s);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}o[t]=void 0}};var s=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="build/",i.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;a.push([193,1]),n()}({11:function(t,e,n){var r=n(178);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},14:function(t,e,n){var r=n(170);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},142:function(t,e,n){var r=n(183);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},145:function(t,e,n){t.exports=n.p+"87ca7dfdc9b2cbd0ad986e954e5c1ff1.png"},146:function(t,e,n){var r=n(173);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},147:function(t,e){
/* @license react v16.7.0 | Copyright (c) Facebook, Inc. and its affiliates. | Licensed under the MIT License */
/* @license prop-types v15.6.2 | Copyright (c) 2013-present, Facebook, Inc. | Licensed under the MIT License */
/* @license warning v3.0.0 | Copyright (c) 2013-2015, Facebook, Inc. All rights reserved. | Licensed under the BSD 3-Clause License */
/* @license invariant v2.2.4 | Copyright (c) 2013-present, Facebook, Inc. | Licensed under the MIT License */
/* @license warning v4.0.2 | Copyright (c) 2013-present, Facebook, Inc. | Licensed under the MIT License */
/* @license css-loader v2.1.0 | Copyright JS Foundation and other contributors | Licensed under the MIT License  */
/* @license style-loader v0.23.1 | Copyright JS Foundation and other contributors | Licensed under the MIT License */
/* @license history v4.7.2 | Copyright (c) 2015-2016 Michael Jackson | Licensed under the MIT License */
/* @license resolve-pathname v2.2.0 | Michael Jackson | Licensed under the MIT License */
/* @license value-equal v0.4.0 | Michael Jackson | Licensed under the MIT License */
/* @license react-router-dom v4.3.1 | Copyright (c) React Training 2016-2018 | Licensed under the MIT License */
/* @license object-assign v4.1.1 | Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com) | Licensed under the MIT License */
/* @license react-dom v16.7.0 | Copyright (c) Facebook, Inc. and its affiliates. | Licensed under the MIT License */
/* @license react-router v4.3.1 | Copyright (c) React Training 2016-2018 | Licensed under the MIT License */
/* @license scheduler v0.12.0 | Copyright (c) Facebook, Inc. and its affiliates. | Licensed under the MIT License */
/* @license normalize.css v8.0.1 | Copyright © Nicolas Gallagher and Jonathan Neal | Licensed under the MIT License */
/* @license three.js v0.99.0 | Copyright © 2010-2018 three.js authors | Licensed under the MIT License */
/* @license hoist-non-react-statics v2.5.5 | Copyright (c) 2015, Yahoo! Inc. All rights reserved. | Licensed under the BSD 3-Clause License */
/* @license query-string v6.2.0 | Copyright (c) Sindre Sorhus <sindresorhus@gmail.com> (sindresorhus.com) | Licensed under the MIT License */
/* @license strict-uri-encode v2.0.0 | Copyright (c) Kevin Martensson <kevinmartensson@gmail.com> (github.com/kevva) | Licensed under the MIT License */
/* @license decode-uri-component v0.2.0 | Copyright (c) Sam Verschueren <sam.verschueren@gmail.com> (github.com/SamVerschueren) | Licensed under the MIT License */
/* @license whatwg-fetch v3.0.0 | Copyright (c) 2014-2016 GitHub, Inc. | Licensed under the MIT License */
/* @license moment v2.24.0 | Copyright (c) JS Foundation and other contributors | Licensed under the MIT License */
/* @license signal loader | Copyright (c) 2019 by brunjo (https://codepen.io/brunjo/pen/vELmaP) | Licensed under the MIT License */},154:function(t,e,n){var r=n(155);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},155:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"header {\n  width: 100%;\n  height: 80px;\n}\n\nheader > ul {\n  margin: 0;\n  padding: 0 30px 0 30px;\n}\n\nheader > ul > li {\n  display: block;\n  line-height: 80px;\n}\n\nheader > ul > li.left {\n  float: left;\n  padding: 0 16px 0 0;\n}\n\nheader > ul > li.right {\n  float: right;\n  padding: 0 0 0 16px;\n}\n",""])},157:function(t,e,n){var r=n(158);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},158:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".logo {\n  font-size: 1.6em;\n  font-weight: 300;\n  color: inherit;\n}\n",""])},162:function(t,e,n){var r=n(163);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},163:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,"footer {\n  width: 100%;\n  height: 80px;\n}\n\nfooter > ul {\n  margin: 0;\n  padding: 0 30px 0 30px;\n}\n\nfooter > ul > li {\n  display: block;\n  float: left;\n  padding: 0 16px 0 0;\n  line-height: 80px;\n}\n\nfooter > ul > li > a {\n  font-size: .9em;\n  color: inherit;\n}\n",""])},166:function(t,e,n){var r=n(167);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},167:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".connect-strava {\n  height: 48px;\n  width: 193px;\n}\n",""])},168:function(t,e,n){var r=n(169);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},169:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".connect {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  color: #ffffff;\n  background-color: #000209;\n}\n\n.connect > .preview {\n  width: 852px;\n  height: 300px;\n}\n\n.connect > .title {\n  margin: 26px 0 0 0;\n  font-size: 4em;\n  font-weight: 300;\n}\n\n.connect > .description {\n  font-size: 1.2em;\n}\n\n.connect > button > .connect-strava {\n  margin: 40px 0 0 0;\n  padding: 0 0 40px 0;\n}\n\n.connect > .authorizing {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 40px 0 0 0;\n  padding: 0 0 40px 0;\n}\n",""])},170:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".indicator {\n  width: 30px;\n  height: 30px;\n  border: 4px solid #ffffff;\n  border-radius: 30px;\n  opacity: 0;\n  animation: animation 1s ease-out;\n  animation-iteration-count: infinite;\n}\n\n@keyframes animation {\n  0% {\n    transform: scale(0.1);\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 0;\n  }\n}\n",""])},172:function(t,e,n){var r={"./af":15,"./af.js":15,"./ar":16,"./ar-dz":17,"./ar-dz.js":17,"./ar-kw":18,"./ar-kw.js":18,"./ar-ly":19,"./ar-ly.js":19,"./ar-ma":20,"./ar-ma.js":20,"./ar-sa":21,"./ar-sa.js":21,"./ar-tn":22,"./ar-tn.js":22,"./ar.js":16,"./az":23,"./az.js":23,"./be":24,"./be.js":24,"./bg":25,"./bg.js":25,"./bm":26,"./bm.js":26,"./bn":27,"./bn.js":27,"./bo":28,"./bo.js":28,"./br":29,"./br.js":29,"./bs":30,"./bs.js":30,"./ca":31,"./ca.js":31,"./cs":32,"./cs.js":32,"./cv":33,"./cv.js":33,"./cy":34,"./cy.js":34,"./da":35,"./da.js":35,"./de":36,"./de-at":37,"./de-at.js":37,"./de-ch":38,"./de-ch.js":38,"./de.js":36,"./dv":39,"./dv.js":39,"./el":40,"./el.js":40,"./en-SG":41,"./en-SG.js":41,"./en-au":42,"./en-au.js":42,"./en-ca":43,"./en-ca.js":43,"./en-gb":44,"./en-gb.js":44,"./en-ie":45,"./en-ie.js":45,"./en-il":46,"./en-il.js":46,"./en-nz":47,"./en-nz.js":47,"./eo":48,"./eo.js":48,"./es":49,"./es-do":50,"./es-do.js":50,"./es-us":51,"./es-us.js":51,"./es.js":49,"./et":52,"./et.js":52,"./eu":53,"./eu.js":53,"./fa":54,"./fa.js":54,"./fi":55,"./fi.js":55,"./fo":56,"./fo.js":56,"./fr":57,"./fr-ca":58,"./fr-ca.js":58,"./fr-ch":59,"./fr-ch.js":59,"./fr.js":57,"./fy":60,"./fy.js":60,"./ga":61,"./ga.js":61,"./gd":62,"./gd.js":62,"./gl":63,"./gl.js":63,"./gom-latn":64,"./gom-latn.js":64,"./gu":65,"./gu.js":65,"./he":66,"./he.js":66,"./hi":67,"./hi.js":67,"./hr":68,"./hr.js":68,"./hu":69,"./hu.js":69,"./hy-am":70,"./hy-am.js":70,"./id":71,"./id.js":71,"./is":72,"./is.js":72,"./it":73,"./it-ch":74,"./it-ch.js":74,"./it.js":73,"./ja":75,"./ja.js":75,"./jv":76,"./jv.js":76,"./ka":77,"./ka.js":77,"./kk":78,"./kk.js":78,"./km":79,"./km.js":79,"./kn":80,"./kn.js":80,"./ko":81,"./ko.js":81,"./ku":82,"./ku.js":82,"./ky":83,"./ky.js":83,"./lb":84,"./lb.js":84,"./lo":85,"./lo.js":85,"./lt":86,"./lt.js":86,"./lv":87,"./lv.js":87,"./me":88,"./me.js":88,"./mi":89,"./mi.js":89,"./mk":90,"./mk.js":90,"./ml":91,"./ml.js":91,"./mn":92,"./mn.js":92,"./mr":93,"./mr.js":93,"./ms":94,"./ms-my":95,"./ms-my.js":95,"./ms.js":94,"./mt":96,"./mt.js":96,"./my":97,"./my.js":97,"./nb":98,"./nb.js":98,"./ne":99,"./ne.js":99,"./nl":100,"./nl-be":101,"./nl-be.js":101,"./nl.js":100,"./nn":102,"./nn.js":102,"./pa-in":103,"./pa-in.js":103,"./pl":104,"./pl.js":104,"./pt":105,"./pt-br":106,"./pt-br.js":106,"./pt.js":105,"./ro":107,"./ro.js":107,"./ru":108,"./ru.js":108,"./sd":109,"./sd.js":109,"./se":110,"./se.js":110,"./si":111,"./si.js":111,"./sk":112,"./sk.js":112,"./sl":113,"./sl.js":113,"./sq":114,"./sq.js":114,"./sr":115,"./sr-cyrl":116,"./sr-cyrl.js":116,"./sr.js":115,"./ss":117,"./ss.js":117,"./sv":118,"./sv.js":118,"./sw":119,"./sw.js":119,"./ta":120,"./ta.js":120,"./te":121,"./te.js":121,"./tet":122,"./tet.js":122,"./tg":123,"./tg.js":123,"./th":124,"./th.js":124,"./tl-ph":125,"./tl-ph.js":125,"./tlh":126,"./tlh.js":126,"./tr":127,"./tr.js":127,"./tzl":128,"./tzl.js":128,"./tzm":129,"./tzm-latn":130,"./tzm-latn.js":130,"./tzm.js":129,"./ug-cn":131,"./ug-cn.js":131,"./uk":132,"./uk.js":132,"./ur":133,"./ur.js":133,"./uz":134,"./uz-latn":135,"./uz-latn.js":135,"./uz.js":134,"./vi":136,"./vi.js":136,"./x-pseudo":137,"./x-pseudo.js":137,"./yo":138,"./yo.js":138,"./zh-cn":139,"./zh-cn.js":139,"./zh-hk":140,"./zh-hk.js":140,"./zh-tw":141,"./zh-tw.js":141};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id=172},173:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".card {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 500px;\n  background-color: #000209;\n}\n",""])},174:function(t,e,n){var r=n(175);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},175:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".create > .controls {\n  width: 100%;\n  height: 60px;\n}\n\n.create > .controls > ul {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n}\n\n.create > .controls > ul > li {\n  display: inline-block;\n  padding: 0 14px 0 14px;\n  line-height: 60px;\n}\n\n.create > a {\n  visibility: hidden;\n}\n",""])},176:function(t,e,n){var r=n(177);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},177:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".view-on-strava {\n  font-weight: 600;\n}\n",""])},178:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".information {\n  width: 700px;\n  margin: auto;\n}\n",""])},179:function(t,e,n){var r=n(180);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},180:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".contact > h1 {\n  font-size: 1.6em; \n  font-weight: 600;\n}\n\n.contact > .name {\n  font-size: 1.4em;\n  font-weight: 300;\n}\n\n.contact > .email {\n  margin: -14px 0 28px 0;\n}\n",""])},181:function(t,e,n){var r=n(182);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},182:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".privacy-policy > h1, h2 {\n  font-weight: 600;\n}\n\n.privacy-policy > h1 {\n  font-size: 1.6em; \n}\n\n.privacy-policy > h2 {\n  font-size: 1.2em;\n}\n",""])},183:function(t,e,n){(t.exports=n(4)(!1)).push([t.i,".error {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  height: 400px;\n}\n",""])},186:function(t,e,n){var r=n(187);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(5)(r,o);r.locals&&(t.exports=r.locals)},187:function(t,e,n){e=t.exports=n(4)(!1);var r=n(188),o=r(n(189)),a=r(n(190)),i=r(n(191)),c=r(n(192));e.push([t.i,"@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 300;\n  src: url("+o+") format('truetype');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url("+a+") format('truetype');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 600;\n  src: url("+i+") format('truetype');\n}\n\n@font-face {\n  font-family: 'Open Sans';\n  font-style: normal;\n  font-weight: 700;\n  src: url("+c+") format('truetype');\n}\n\nbody {\n  font-family: 'Open Sans';\n  font-size: 100%;\n}\n\na {\n  text-decoration: none;\n  color: dodgerblue;\n}\n\nbutton {\n  background: transparent;\n  color: dodgerblue;\n  cursor: pointer;\n  border: none;\n  outline: none;\n  padding: 0;\n}\n\nbutton:disabled {\n  color: #eeeeee;\n}\n",""])},189:function(t,e,n){t.exports=n.p+"9ff12f694e5951a6f51a9d63b05062e7.ttf"},190:function(t,e,n){t.exports=n.p+"d7d5d4588a9f50c99264bc12e4892a7c.ttf"},191:function(t,e,n){t.exports=n.p+"e1c83f9474e0cc1d84a13c6d1ddf3ca5.ttf"},192:function(t,e,n){t.exports=n.p+"f5331cb6372b6c0d8baf2dd7e200498c.ttf"},193:function(t,e,n){"use strict";n.r(e);n(147);var r=n(1),o=n.n(r),a=n(143),i=n.n(a),c=n(197),s=n(196),u=n(195),l=n(194),f=(n(153),n(9));function p(t,e,n){return fetch(e,{method:t,headers:n}).then(function(t){if(200===t.status)return t.json();if(401===t.status)throw new f.AuthorizationError("service returned 401 - unauthorized");throw new f.ResourceError("service returned ".concat(t.status," - ").concat(t.statusText))})}n(154),n(157);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){var e=t.name,n=t.onClick,r=t.disabled;return o.a.createElement("span",null,e," | ",o.a.createElement("button",{type:"button",onClick:n,disabled:r},"Disconnect"))},g=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=h(e).call(this,t))||"object"!==m(o)&&"function"!=typeof o?d(r):o).state={error:null,redirect:null,deauthorizing:!1},n.handleDisconnect=n.handleDisconnect.bind(d(n)),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleDisconnect",value:function(){var t=this;this.setState({deauthorizing:!0}),function(t){return p("POST","".concat("https://activity-card-service.herokuapp.com","/auth/deauthorize"),{Authorization:"Bearer ".concat(t)})}(localStorage.getItem("token")).then(function(){return t.setState({deauthorizing:!1,redirect:"/connect"})}).catch(function(e){return t.setState({deauthorizing:!1,error:e})}).finally(function(){localStorage.removeItem("token"),localStorage.removeItem("name"),sessionStorage.removeItem("activities")})}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.redirect,r=t.deauthorizing;if(e)throw e;if(n)return o.a.createElement(u.a,{to:n});var a=localStorage.getItem("name"),i=null;return localStorage.getItem("token")&&(i=o.a.createElement(b,{name:a,onClick:this.handleDisconnect,disabled:r})),o.a.createElement("header",null,o.a.createElement("ul",null,o.a.createElement("li",{className:"left"},o.a.createElement(l.a,{to:"/",className:"logo"},"Activity Card")),o.a.createElement("li",{className:"right"},i)))}}])&&y(n.prototype,r),a&&y(n,a),e}(),j=(n(162),function(){return o.a.createElement("footer",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(l.a,{to:"/contact"},"Contact")),o.a.createElement("li",null,o.a.createElement(l.a,{to:"/privacy"},"Privacy")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://github.com/markwinton/activity-card"},"GitHub"))))}),w=n(144),E=n.n(w),S=n(145),O=n.n(S);n(166),n(168),n(14);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I="activity:read_all",C=function(){var t,e=(t=new Uint8Array(32),crypto.getRandomValues(t),t.reduce(function(t,e){return t+e.toString(16).padStart(2,"0")},""));localStorage.setItem("authorization_state",e);var n=encodeURIComponent(window.location.href.split("?")[0]);window.location.href="https://www.strava.com/oauth/mobile/authorize?response_type=code&state=".concat(e,"&client_id=").concat("32514","&redirect_uri=").concat(n,"&scope=").concat(I)},T=function(t){var e=t.onClick;return o.a.createElement("button",{type:"button",onClick:e},o.a.createElement("img",{src:"".concat("https://markwinton.github.io/activity-card-assets","/connect-strava.png"),className:"connect-strava",alt:"Connect with Strava"}))},N=function(){return o.a.createElement("div",{className:"authorizing"},o.a.createElement("p",null,"Connecting to your Strava account..."),o.a.createElement("div",{className:"indicator"}))},R=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_(this,z(e).call(this,t))).state={error:null,redirect:null,authorizing:!1},n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){var t,e=this,n=this.props.location.search,r=E.a.parse(n),o=r.code,a=r.state,i=r.scope,c=i?i.split(","):[];o&&a===localStorage.getItem("authorization_state")&&c.includes(I)&&(this.setState({authorizing:!0}),(t=o,p("POST","".concat("https://activity-card-service.herokuapp.com","/auth/authorize/").concat(t))).then(function(t){var n=t.token,r=t.name;localStorage.setItem("token",n),localStorage.setItem("name",r),e.setState({authorizing:!1,redirect:"/"})}).catch(function(t){return e.setState({authorizing:!1,error:t})})),localStorage.removeItem("authorization_state")}},{key:"render",value:function(){var t=this.state,e=t.error,n=t.redirect,r=t.authorizing;if(e)throw e;return n?o.a.createElement(u.a,{to:n}):o.a.createElement("section",{className:"connect"},o.a.createElement("img",{src:O.a,className:"preview",alt:""}),o.a.createElement("p",{className:"title"},"Activity Card"),o.a.createElement("p",{className:"description"},"Create a unique visualization based on your Strava activities from the past year."),r?o.a.createElement(N,null):o.a.createElement(T,{onClick:C}))}}])&&k(n.prototype,r),a&&k(n,a),e}(),A=n(0),D=n.n(A);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function F(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var q=o.a.lazy(function(){return Promise.all([n.e(3),n.e(2)]).then(n.bind(null,201))}),B=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=F(this,G(e).call(this,t))).state={error:null},n.card=o.a.createRef(),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(e,o.a.Component),n=e,(r=[{key:"exportImage",value:function(t,e,n){this.card.current.exportImage(t,e,n)}},{key:"render",value:function(){var t=this,e=this.state.error;if(e)throw e;var n=sessionStorage.getItem("activities");if(!n){var r=this.props;throw function(t,e,n){return p("GET","".concat("https://activity-card-service.herokuapp.com","/api/v1/activities/").concat(e,"/").concat(n),{Authorization:"Bearer ".concat(t)})}(r.token,r.before,r.after).then(function(t){var e=t.activities;return sessionStorage.setItem("activities",JSON.stringify(e))}).catch(function(e){return t.setState({error:e})})}return o.a.createElement(q,{activities:JSON.parse(n),ref:this.card})}}])&&L(n.prototype,r),a&&L(n,a),e}();n(146),n(174),n(176);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var K=function(){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"indicator"}))},Q=function(t){function e(t){var n,r,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(a=V(e).call(this,t))||"object"!==J(a)&&"function"!=typeof a?H(r):a).state={exporting:!1},n.card=o.a.createRef(),n.downloadLink=o.a.createRef(),n.handleSave=n.handleSave.bind(H(n)),n.before=D()().unix(),n.after=D()().subtract(1,"year").startOf("day").unix(),n.token=localStorage.getItem("token"),n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,o.a.Component),n=e,(r=[{key:"handleSave",value:function(){var t=this;this.setState({exporting:!0}),this.card.current.exportImage(2048,2048,function(e){t.downloadLink.current.href=e,t.downloadLink.current.download="card.png",t.downloadLink.current.click(),t.setState({exporting:!1}),ga("send","event","Card","share","sunflower",2048)})}},{key:"render",value:function(){var t=this.state.exporting;return o.a.createElement("section",{className:"create"},o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(K,null)},o.a.createElement(B,{token:this.token,before:this.before,after:this.after,ref:this.card}),o.a.createElement("div",{className:"controls"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://www.strava.com/athlete/calendar/2019",className:"view-on-strava"},"View on Strava")),o.a.createElement("li",null,o.a.createElement("button",{type:"button",onClick:this.handleSave,disabled:t},"Save Image")))),o.a.createElement("a",{href:"/",ref:this.downloadLink},"save")))}}])&&Y(n.prototype,r),a&&Y(n,a),e}(),X=(n(11),n(179),function(){return o.a.createElement("section",{className:"contact information"},o.a.createElement("h1",null,"Contact"),o.a.createElement("p",{className:"name"},"Mark Winton"),o.a.createElement("p",{className:"email"},o.a.createElement("a",{href:"mailto:winton.mark@icloud.com?subject=Activity%20Card"},"winton.mark@icloud.com")),o.a.createElement("p",null,"Feel free to reach out on",o.a.createElement("a",{href:"https://www.linkedin.com/in/markwinton"}," LinkedIn"),", or follow me on",o.a.createElement("a",{href:"https://www.strava.com/athletes/markwinton"}," Strava"),"."))}),Z=(n(181),function(){return o.a.createElement("section",{className:"privacy-policy information"},o.a.createElement("h1",null,"Privacy Policy"),o.a.createElement("h2",null,"Your Strava Data"),o.a.createElement("p",null,"By authorizing Activity Card to connect to your Strava account, you are allowing it access to data from your Strava profile and activities. Activity Card accesses your data only when you visit this website in order to create a visualization based on your Strava activities. Your data is never sold or shared with any third party."),o.a.createElement("p",null,"You can revoke Activity Card's access to your Strava data at any time from the My Apps section of your Strava account settings."),o.a.createElement("h2",null,"Google Analytics"),o.a.createElement("p",null,"Activity card uses Google Analytics in order to track page views and other usage information for this website. Your Strava data is not included in this usage information, and is never shared with Google."))});n(142);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ot=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=et(this,nt(e).call(this,t))).state={error:null},n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidCatch",value:function(t){this.setState({error:t})}},{key:"render",value:function(){var t=this.state.error,e=this.props.children;return t?o.a.createElement("section",{className:"error information"},o.a.createElement("p",null,"Activity Card is unavailable at the moment. Please try again later.")):e}}])&&tt(n.prototype,r),a&&tt(n,a),e}();function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function it(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ct(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=ct(this,st(e).call(this,t))).state={error:null},n}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidCatch",value:function(t){if(!(t instanceof f.AuthorizationError))throw t;localStorage.removeItem("token"),localStorage.removeItem("name"),sessionStorage.removeItem("activities"),this.setState({error:t})}},{key:"render",value:function(){var t=this.state.error,e=this.props.children;return t||!localStorage.getItem("token")?o.a.createElement(u.a,{to:"/connect"}):e}}])&&it(n.prototype,r),a&&it(n,a),e}();function ft(t){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yt(t,e){return!e||"object"!==ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),yt(this,ht(e).apply(this,arguments))}var n,r,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dt(t,e)}(e,o.a.Component),n=e,(r=[{key:"componentDidMount",value:function(){var t=this.props.location;ga("send","pageview",t.pathname)}},{key:"render",value:function(){var t=this.props,e=t.component,n=pt(t,["component"]);return o.a.createElement(e,n)}}])&&mt(n.prototype,r),a&&mt(n,a),e}();function bt(){return(bt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}ga("set","anonymizeIp",!0),ga("create","UA-135611252-1","auto");var gt=function(t){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(g,null),o.a.createElement(t,e))}},jt=function(t){return function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(t,e),o.a.createElement(j,null))}},wt=function(t){return function(e){return o.a.createElement(vt,bt({component:t},e))}};n(184),n(186);i.a.render(o.a.createElement(function(){return o.a.createElement(ot,null,o.a.createElement(c.a,null,o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{exact:!0,path:"/",component:(t=wt(gt(jt(Q))),function(e){return o.a.createElement(lt,null,o.a.createElement(t,e))})}),o.a.createElement(s.a,{path:"/connect",component:wt(jt(R))}),o.a.createElement(s.a,{path:"/contact",component:wt(gt(jt(X)))}),o.a.createElement(s.a,{path:"/privacy",component:wt(gt(jt(Z)))}))));var t},null),document.getElementById("root"))},9:function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function i(t){var e="function"==typeof Map?new Map:void 0;return(i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,u(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)})(t)}function c(t,e,n){return(c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&s(o,n.prototype),o}).apply(null,arguments)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){function e(t){var n;return r(this,e),(n=o(this,u(e).call(this,t))).name="AuthorizationError",n}return a(e,i(Error)),e}(),f=function(t){function e(t){var n;return r(this,e),(n=o(this,u(e).call(this,t))).name="ResourceError",n}return a(e,i(Error)),e}(),p=function(t){function e(t){var n;return r(this,e),(n=o(this,u(e).call(this,t))).name="InputError",n}return a(e,i(Error)),e}();t.exports={AuthorizationError:l,ResourceError:f,InputError:p}}});