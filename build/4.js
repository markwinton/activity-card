(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{179:function(t,e,n){var r=n(190);"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,s);r.locals&&(t.exports=r.locals)},189:function(t,e,n){var r={"./af":52,"./af.js":52,"./ar":53,"./ar-dz":54,"./ar-dz.js":54,"./ar-kw":55,"./ar-kw.js":55,"./ar-ly":56,"./ar-ly.js":56,"./ar-ma":57,"./ar-ma.js":57,"./ar-sa":58,"./ar-sa.js":58,"./ar-tn":59,"./ar-tn.js":59,"./ar.js":53,"./az":60,"./az.js":60,"./be":61,"./be.js":61,"./bg":62,"./bg.js":62,"./bm":63,"./bm.js":63,"./bn":64,"./bn.js":64,"./bo":65,"./bo.js":65,"./br":66,"./br.js":66,"./bs":67,"./bs.js":67,"./ca":68,"./ca.js":68,"./cs":69,"./cs.js":69,"./cv":70,"./cv.js":70,"./cy":71,"./cy.js":71,"./da":72,"./da.js":72,"./de":73,"./de-at":74,"./de-at.js":74,"./de-ch":75,"./de-ch.js":75,"./de.js":73,"./dv":76,"./dv.js":76,"./el":77,"./el.js":77,"./en-SG":78,"./en-SG.js":78,"./en-au":79,"./en-au.js":79,"./en-ca":80,"./en-ca.js":80,"./en-gb":81,"./en-gb.js":81,"./en-ie":82,"./en-ie.js":82,"./en-il":83,"./en-il.js":83,"./en-nz":84,"./en-nz.js":84,"./eo":85,"./eo.js":85,"./es":86,"./es-do":87,"./es-do.js":87,"./es-us":88,"./es-us.js":88,"./es.js":86,"./et":89,"./et.js":89,"./eu":90,"./eu.js":90,"./fa":91,"./fa.js":91,"./fi":92,"./fi.js":92,"./fo":93,"./fo.js":93,"./fr":94,"./fr-ca":95,"./fr-ca.js":95,"./fr-ch":96,"./fr-ch.js":96,"./fr.js":94,"./fy":97,"./fy.js":97,"./ga":98,"./ga.js":98,"./gd":99,"./gd.js":99,"./gl":100,"./gl.js":100,"./gom-latn":101,"./gom-latn.js":101,"./gu":102,"./gu.js":102,"./he":103,"./he.js":103,"./hi":104,"./hi.js":104,"./hr":105,"./hr.js":105,"./hu":106,"./hu.js":106,"./hy-am":107,"./hy-am.js":107,"./id":108,"./id.js":108,"./is":109,"./is.js":109,"./it":110,"./it-ch":111,"./it-ch.js":111,"./it.js":110,"./ja":112,"./ja.js":112,"./jv":113,"./jv.js":113,"./ka":114,"./ka.js":114,"./kk":115,"./kk.js":115,"./km":116,"./km.js":116,"./kn":117,"./kn.js":117,"./ko":118,"./ko.js":118,"./ku":119,"./ku.js":119,"./ky":120,"./ky.js":120,"./lb":121,"./lb.js":121,"./lo":122,"./lo.js":122,"./lt":123,"./lt.js":123,"./lv":124,"./lv.js":124,"./me":125,"./me.js":125,"./mi":126,"./mi.js":126,"./mk":127,"./mk.js":127,"./ml":128,"./ml.js":128,"./mn":129,"./mn.js":129,"./mr":130,"./mr.js":130,"./ms":131,"./ms-my":132,"./ms-my.js":132,"./ms.js":131,"./mt":133,"./mt.js":133,"./my":134,"./my.js":134,"./nb":135,"./nb.js":135,"./ne":136,"./ne.js":136,"./nl":137,"./nl-be":138,"./nl-be.js":138,"./nl.js":137,"./nn":139,"./nn.js":139,"./pa-in":140,"./pa-in.js":140,"./pl":141,"./pl.js":141,"./pt":142,"./pt-br":143,"./pt-br.js":143,"./pt.js":142,"./ro":144,"./ro.js":144,"./ru":145,"./ru.js":145,"./sd":146,"./sd.js":146,"./se":147,"./se.js":147,"./si":148,"./si.js":148,"./sk":149,"./sk.js":149,"./sl":150,"./sl.js":150,"./sq":151,"./sq.js":151,"./sr":152,"./sr-cyrl":153,"./sr-cyrl.js":153,"./sr.js":152,"./ss":154,"./ss.js":154,"./sv":155,"./sv.js":155,"./sw":156,"./sw.js":156,"./ta":157,"./ta.js":157,"./te":158,"./te.js":158,"./tet":159,"./tet.js":159,"./tg":160,"./tg.js":160,"./th":161,"./th.js":161,"./tl-ph":162,"./tl-ph.js":162,"./tlh":163,"./tlh.js":163,"./tr":164,"./tr.js":164,"./tzl":165,"./tzl.js":165,"./tzm":166,"./tzm-latn":167,"./tzm-latn.js":167,"./tzm.js":166,"./ug-cn":168,"./ug-cn.js":168,"./uk":169,"./uk.js":169,"./ur":170,"./ur.js":170,"./uz":171,"./uz-latn":172,"./uz-latn.js":172,"./uz.js":171,"./vi":173,"./vi.js":173,"./x-pseudo":174,"./x-pseudo.js":174,"./yo":175,"./yo.js":175,"./zh-cn":176,"./zh-cn.js":176,"./zh-hk":177,"./zh-hk.js":177,"./zh-tw":178,"./zh-tw.js":178};function s(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=o,t.exports=s,s.id=189},190:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".card {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 500px;\n  background-color: #000209;\n}\n",""])},191:function(t,e,n){var r=n(192);"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,s);r.locals&&(t.exports=r.locals)},192:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".create > .controls {\n  width: 100%;\n  height: 60px;\n}\n\n.create > .controls > ul {\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n}\n\n.create > .controls > ul > li {\n  display: inline-block;\n  padding: 0 14px 0 14px;\n  line-height: 60px;\n}\n",""])},193:function(t,e,n){var r=n(194);"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,s);r.locals&&(t.exports=r.locals)},194:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".view-on-strava {\n  font-weight: 600;\n}\n",""])},207:function(t,e,n){"use strict";n.r(e);var r=n(46),s=n.n(r),o=n(0),a=n.n(o),i=n(43),c=n(10);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=a.a.lazy(function(){return Promise.all([n.e(9),n.e(8)]).then(n.bind(null,206))}),m=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=f(this,j(e).call(this,t))).state={throw:!1,error:null},n.card=a.a.createRef(),n}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,a.a.Component),n=e,(r=[{key:"render",value:function(){var t=this;if(this.state.throw)throw this.state.error;var e=sessionStorage.getItem("activities");if(!e)throw Object(c.c)(this.props.token,this.props.before,this.props.after).then(function(t){var e=t.activities;return sessionStorage.setItem("activities",JSON.stringify(e))}).catch(function(e){return t.setState({throw:!0,error:e})});return a.a.createElement(h,{activities:JSON.parse(e),ref:this.card})}},{key:"exportImage",value:function(t,e,n){this.card.current.exportImage(t,e,n)}}])&&u(n.prototype,r),s&&u(n,s),e}();n(179),n(191),n(193),n(13),n(50);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"default",function(){return w});var k=function(t){return a.a.createElement("div",{className:"card"},a.a.createElement("div",{className:"indicator"}))},w=function(t){function e(t){var n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,(n=!(o=b(e).call(this,t))||"object"!==d(o)&&"function"!=typeof o?v(r):o).state={exporting:!1,redirect:null},n.card=a.a.createRef(),n.downloadLink=a.a.createRef(),n.handleSave=n.handleSave.bind(v(n)),n.before=s()().unix(),n.after=s()().subtract(1,"year").startOf("day").unix(),n.token=localStorage.getItem("token"),n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,a.a.Component),n=e,(r=[{key:"componentDidCatch",value:function(t){"unauthorized"==t?(localStorage.removeItem("token"),localStorage.removeItem("name"),sessionStorage.removeItem("activities"),this.setState({redirect:"/"})):this.setState({redirect:"/error"})}},{key:"render",value:function(){return this.state.redirect?a.a.createElement(i.a,{to:this.state.redirect}):a.a.createElement("section",{className:"create"},a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(k,null)},a.a.createElement(m,{token:this.token,before:this.before,after:this.after,ref:this.card}),a.a.createElement("div",{className:"controls"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:"https://www.strava.com/athlete/calendar/2019",className:"view-on-strava"},"View on Strava")),a.a.createElement("li",null,a.a.createElement("a",{onClick:this.handleSave,className:this.state.exporting?"disabled":""},"Save Image")))),a.a.createElement("a",{ref:this.downloadLink})))}},{key:"handleSave",value:function(){var t=this;this.setState(function(e){if(0==e.exporting)return t.card.current.exportImage(2048,2048,function(e){t.downloadLink.current.href=e,t.downloadLink.current.download="card.png",t.downloadLink.current.click(),t.setState({exporting:!1})}),{exporting:!0}})}}])&&y(n.prototype,r),o&&y(n,o),e}()},50:function(t,e,n){var r=n(51);"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,s);r.locals&&(t.exports=r.locals)},51:function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".indicator {\n  width: 30px;\n  height: 30px;\n  border: 4px solid #ffffff;\n  border-radius: 30px;\n  opacity: 0;\n  animation: animation 1s ease-out;\n  animation-iteration-count: infinite;\n}\n\n@keyframes animation {\n  0% {\n    transform: scale(0.1);\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 0;\n  }\n}\n",""])}}]);